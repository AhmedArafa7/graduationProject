<div class="px-4 md:px-10 lg:px-20 py-12 bg-background-light dark:bg-background-dark min-h-screen font-display">
  <div class="layout-content-container max-w-7xl mx-auto flex flex-col gap-12">
    
    <div class="flex flex-wrap gap-2 text-sm">
      <a routerLink="/" class="text-text-secondary dark:text-gray-400 font-medium hover:text-primary transition-colors">الرئيسية</a>
      <span class="text-text-secondary dark:text-gray-400">/</span>
      <span class="text-text-primary dark:text-white font-bold">تواصل معنا</span>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
      
      <div class="bg-card-background dark:bg-gray-800 p-8 rounded-2xl shadow-lg border border-border-color dark:border-gray-700 h-fit">
        <div class="flex flex-col gap-2 mb-8">
          <h1 class="text-text-primary dark:text-white text-3xl font-bold">تواصل معنا</h1>
          <p class="text-text-secondary dark:text-gray-400 text-base">نحن هنا للمساعدة. أرسل لنا رسالة وسنقوم بالرد عليك في أقرب وقت ممكن.</p>
        </div>

        @if (isSent()) {
          <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-6 text-center animate-fadeIn">
            <div class="w-16 h-16 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="material-symbols-outlined text-green-600 dark:text-green-300 text-3xl">check_circle</span>
            </div>
            <h3 class="text-lg font-bold text-green-800 dark:text-green-300 mb-2">تم الإرسال بنجاح!</h3>
            <p class="text-green-700 dark:text-green-400 text-sm">شكراً لتواصلك معنا، سنرد عليك قريباً.</p>
          </div>
        } @else {
          <form (submit)="onSubmit()" class="space-y-6">
            <div>
              <label class="block text-text-primary dark:text-white text-base font-medium mb-2">الاسم الكامل</label>
              <input [(ngModel)]="formData.name" name="name" class="form-input w-full h-14 px-4 rounded-lg border border-border-color dark:border-gray-600 bg-background-light dark:bg-gray-700 text-text-primary dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" placeholder="أدخل اسمك الكامل" required>
            </div>
            <div>
              <label class="block text-text-primary dark:text-white text-base font-medium mb-2">البريد الإلكتروني</label>
              <input [(ngModel)]="formData.email" name="email" type="email" class="form-input w-full h-14 px-4 rounded-lg border border-border-color dark:border-gray-600 bg-background-light dark:bg-gray-700 text-text-primary dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" placeholder="أدخل بريدك الإلكتروني" required>
            </div>
            <div>
              <label class="block text-text-primary dark:text-white text-base font-medium mb-2">رقم الهاتف</label>
              <div class="flex w-full relative" dir="ltr">
                <div class="flex items-center justify-center px-4 bg-background-light dark:bg-gray-700 border border-r-0 border-border-color dark:border-gray-600 rounded-l-lg text-text-secondary dark:text-gray-400 font-medium text-base">
                  +20 <span class="material-symbols-outlined text-sm ml-1">arrow_drop_down</span>
                </div>
                <input [(ngModel)]="formData.phone" name="phone" type="tel" class="form-input w-full h-14 px-4 rounded-r-lg border border-border-color dark:border-gray-600 bg-background-light dark:bg-gray-700 text-text-primary dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-right" placeholder="أدخل رقم هاتفك" required>
              </div>
            </div>
            <div>
              <label class="block text-text-primary dark:text-white text-base font-medium mb-2">الموضوع</label>
              <div class="relative">
                <select [(ngModel)]="formData.subject" name="subject" class="form-select w-full h-14 px-4 rounded-lg border border-border-color dark:border-gray-600 bg-background-light dark:bg-gray-700 text-text-primary dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all appearance-none cursor-pointer">
                  <option value="general">استفسار عام</option>
                  <option value="support">دعم فني</option>
                  <option value="partnership">شراكة</option>
                </select>
                <span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-text-secondary pointer-events-none">expand_more</span>
              </div>
            </div>
            <div>
              <label class="block text-text-primary dark:text-white text-base font-medium mb-2">رسالتك</label>
              <textarea [(ngModel)]="formData.message" name="message" rows="5" class="form-textarea w-full p-4 rounded-lg border border-border-color dark:border-gray-600 bg-background-light dark:bg-gray-700 text-text-primary dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all resize-none" placeholder="اكتب رسالتك هنا..." required></textarea>
            </div>
            <div class="flex items-center gap-2">
              <input [(ngModel)]="formData.agreeToPrivacy" name="privacy" type="checkbox" id="privacy" class="form-checkbox h-4 w-4 rounded border-border-color text-primary focus:ring-primary cursor-pointer">
              <label for="privacy" class="text-sm text-text-secondary dark:text-gray-400 cursor-pointer">أوافق على <a routerLink="/privacy-policy" class="text-primary hover:underline font-bold">سياسة الخصوصية</a>.</label>
            </div>
            <button type="submit" [disabled]="isSubmitting()" class="w-full h-14 bg-primary hover:bg-primary/90 text-white font-bold text-lg rounded-lg shadow-lg transition-all transform active:scale-[0.99] flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed">
              @if (isSubmitting()) { <span class="material-symbols-outlined animate-spin">progress_activity</span> }
              @else { <span>إرسال الرسالة</span> }
            </button>
          </form>
        }
      </div>

      <div class="space-y-8">
        <div class="bg-card-background dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-border-color dark:border-gray-700">
          <h3 class="text-2xl font-bold text-text-primary dark:text-white mb-6">معلومات الاتصال</h3>
          <div class="space-y-6">
            <div class="flex items-start gap-4">
              <span class="material-symbols-outlined text-primary text-2xl mt-1">location_on</span>
              <div>
                <p class="font-semibold text-text-primary dark:text-white text-lg">العنوان</p>
                <p class="text-text-secondary dark:text-gray-400 text-base mt-1">123 شارع التحرير، الدقي، القاهرة، مصر</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <span class="material-symbols-outlined text-primary text-2xl mt-1">phone</span>
              <div>
                <p class="font-semibold text-text-primary dark:text-white text-lg">الهاتف</p>
                <p class="text-text-secondary dark:text-gray-400 text-base mt-1" dir="ltr">+20 123 456 7890</p>
                <p class="text-text-secondary dark:text-gray-400 text-base" dir="ltr">+20 2 2345 6789</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <span class="material-symbols-outlined text-primary text-2xl mt-1">email</span>
              <div>
                <p class="font-semibold text-text-primary dark:text-white text-lg">البريد الإلكتروني</p>
                <a href="mailto:support@sakna.ai" class="text-text-secondary dark:text-gray-400 hover:text-primary block mt-1 text-base">support&#64;sakna.ai</a>
                <a href="mailto:sales@sakna.ai" class="text-text-secondary dark:text-gray-400 hover:text-primary block text-base">sales&#64;sakna.ai</a>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <span class="material-symbols-outlined text-primary text-2xl mt-1">groups</span>
              <div>
                <p class="font-semibold text-text-primary dark:text-white text-lg">تابعنا</p>
                <div class="flex gap-4 mt-3">
                  <a href="#" class="text-text-secondary hover:text-primary dark:text-gray-400 dark:hover:text-white transition-colors"><span class="material-symbols-outlined text-2xl">public</span></a>
                  <a href="#" class="text-text-secondary hover:text-primary dark:text-gray-400 dark:hover:text-white transition-colors"><span class="material-symbols-outlined text-2xl">share</span></a>
                  <a href="#" class="text-text-secondary hover:text-primary dark:text-gray-400 dark:hover:text-white transition-colors"><span class="material-symbols-outlined text-2xl">photo_camera</span></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-card-background dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-border-color dark:border-gray-700">
      <div class="h-80 bg-gray-200 dark:bg-gray-700 relative">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3453.163864898606!2d31.23333431511508!3d30.044419581882337!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145840c6dc6d07d9%3A0x6b66652140994706!2sTahrir%20Square!5e0!3m2!1sen!2seg!4v1629897555236!5m2!1sen!2seg" 
                width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" class="filter grayscale hover:grayscale-0 transition-all duration-500"></iframe>
      </div>
      <div class="p-6 flex justify-end">
        <button class="flex items-center gap-2 bg-secondary text-white font-bold py-3 px-6 rounded-lg hover:bg-secondary/90 transition duration-300 shadow-md">
          <span class="material-symbols-outlined">map</span>
          فتح في Google Maps
        </button>
      </div>
    </div>

    <div class="bg-card-background dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-border-color dark:border-gray-700">
      <h3 class="text-2xl font-bold text-text-primary dark:text-white mb-6">أسئلة شائعة قد تهمك</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        
        <a routerLink="/faq" class="group block bg-background-light dark:bg-gray-700 p-6 rounded-xl border border-border-color dark:border-gray-600 hover:shadow-md hover:border-primary/50 transition-all duration-300 h-full">
          <div class="flex flex-col h-full">
            <span class="material-symbols-outlined text-primary text-3xl mb-4">help_outline</span>
            <h4 class="font-bold text-text-primary dark:text-white text-lg mb-4 group-hover:text-primary transition-colors">كيف أضيف عقار؟</h4>
            <p class="text-secondary font-semibold mt-auto flex items-center gap-2">
              اقرأ المزيد <span class="material-symbols-outlined text-lg transform transition-transform duration-300 group-hover:-translate-x-1 rtl:rotate-180">arrow_forward</span>
            </p>
          </div>
        </a>

        <a routerLink="/faq" class="group block bg-background-light dark:bg-gray-700 p-6 rounded-xl border border-border-color dark:border-gray-600 hover:shadow-md hover:border-primary/50 transition-all duration-300 h-full">
          <div class="flex flex-col h-full">
            <span class="material-symbols-outlined text-primary text-3xl mb-4">payments</span>
            <h4 class="font-bold text-text-primary dark:text-white text-lg mb-4 group-hover:text-primary transition-colors">ما هي طرق الدفع المتاحة؟</h4>
            <p class="text-secondary font-semibold mt-auto flex items-center gap-2">
              اقرأ المزيد <span class="material-symbols-outlined text-lg transform transition-transform duration-300 group-hover:-translate-x-1 rtl:rotate-180">arrow_forward</span>
            </p>
          </div>
        </a>

        <a routerLink="/faq" class="group block bg-background-light dark:bg-gray-700 p-6 rounded-xl border border-border-color dark:border-gray-600 hover:shadow-md hover:border-primary/50 transition-all duration-300 h-full">
          <div class="flex flex-col h-full">
            <span class="material-symbols-outlined text-primary text-3xl mb-4">cancel</span>
            <h4 class="font-bold text-text-primary dark:text-white text-lg mb-4 group-hover:text-primary transition-colors">هل يمكنني إلغاء الحجز؟</h4>
            <p class="text-secondary font-semibold mt-auto flex items-center gap-2">
              اقرأ المزيد <span class="material-symbols-outlined text-lg transform transition-transform duration-300 group-hover:-translate-x-1 rtl:rotate-180">arrow_forward</span>
            </p>
          </div>
        </a>

      </div>
    </div>

  </div>
</div>